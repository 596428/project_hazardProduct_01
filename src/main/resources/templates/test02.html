<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>관리자 페이지</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="/js/script.js"></script>
</head>
<body>
    <!-- 관리자 권한 체크 -->
    <div sec:authorize="!hasAuthority('ROLE_01')">
        <script>
            window.location.href = '/test01';
        </script>
    </div>

    <div class="header">
        <h1>관리자 페이지</h1>
        <div class="header-buttons">
            <a href="/test01" class="btn btn-secondary">메인으로</a>
            <button onclick="commonFunctions.logout()" class="btn btn-danger">로그아웃</button>
        </div>
    </div>
    
    <div class="admin-panel">
        <h2>사용자 관리</h2>
        <table id="userTable">
            <thead>
                <tr>
                    <th>이용자명</th>
                    <th>이메일</th>
                    <th>권한</th>
                </tr>
            </thead>
            <tbody>
                <!-- 데이터가 여기에 동적으로 추가됩니다 -->
            </tbody>
        </table>

        <h2>API 키 관리</h2>
        <table id="apiKeyTable">
            <thead>
                <tr>
                    <th>API Key 이름</th>
                    <th>이메일</th>
                    <th>만료일</th>
                    <th>상태</th>
                </tr>
            </thead>
            <tbody>
                <!-- 데이터가 여기에 동적으로 추가됩니다 -->
            </tbody>
        </table>
    </div>
</body>
</html> 